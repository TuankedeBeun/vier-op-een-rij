<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
        background-color: lightskyblue;
    }
    table{
        border: none;
        background-color: lightskyblue;
        border-spacing: 5px;
        
    }
    td{
        border: 2px solid maroon;
        height: 50px;
        width: 75px;
    }
    td:hover {
        background-color: lightcyan;
    }
</style>
<script>
    var table_elements
    var columns = [0,0,0,0,0,0,0]
    function get_table(){
        table_elements = document.getElementsByTagName('td')
        for(i=0; i<42; i++){
            var row = Math.trunc(i/7)
            var column = i % 7
            var cell = table_elements[i]
            cell.row = row
            cell.column = column
            cell.full = false
            cell.onmouseenter = hovering_enter
            cell.onmouseleave = hovering_leave
            cell.onclick = dropping_stone
        }
        console.log(table_elements)
    }
    function get_cell(row, col){
        const nr = row*7 + col
        return table_elements[nr]
    }
    function hovering_enter(){
        for(i=0; i<42; i++){
            cell = table_elements[i]
            if(!cell.full && cell.column == this.column){
                cell.style.background = "lightcyan"
            }
        }
    }
    function hovering_leave(){
        for(i=0; i<42; i++){
            cell = table_elements[i]
            if(!cell.full){
                cell = table_elements[i]
                if(!cell.full && cell.column == this.column){
                    cell.style.background = "none"
                }
            }
        }
    }
    function dropping_stone(){
        console.log(this.row + "," + this.column)
        const empty_row = 5 - columns[this.column]
        if(empty_row != -1){
            var cell = get_cell(empty_row, this.column)
            cell.style.background = "yellow"
            cell.full = true
            columns[this.column] += 1
        }
    }
    function dummy_function(){
        alert("alert mate")
    }
</script>
<body>
    <table>
        <tr><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td></tr>
        <tr><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td></tr>
        <tr><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td></tr>
        <tr><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td></tr>
        <tr><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td></tr>
        <tr><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td><td>a</td></tr>
    </table>
    <button onclick="dummy_function()">klik</button>
</body>
<script>get_table()</script>
</html>